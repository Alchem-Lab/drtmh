NOCC started with program [/noccsundial-tcp]. at 19-08-2020 03:00:45
[tpcc] settings:
  new_order_remote_item_pct    : 1
  uniform_item_dist            : 0
  micro dist :20
[bench_runner.cc:341] Use TCP port 8847
[0m[bench_runner.cc:363] use scale factor: 30; with total 10 threads.
[0m[view.h:48] Start with 2 backups.
[0m[view.cc:10] total 4 backups to assign
[0mTxn NewOrder, 100
Remote counts: 100
NAIVE: 4[util.cc:161] malloc_huge_pages: size = 13883146240huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 12.9316
[0m[librdma] get device name mlx5_0, idx 0
[librdma] : Device 0 has 1 ports
poller bind address tcp://*:8847
[bench_runner.cc:144] [TCP] creating shared sockets
[0m[TCP] creating shared sockets for tcp://172.23.33.33:8847
[TCP] creating shared sockets for tcp://172.23.33.34:8847
[TCP] creating shared sockets for tcp://172.23.33.35:8847
[TCP] creating shared sockets for tcp://172.23.33.32:8847
[bench_runner.cc:157] Total logger area 0.00390625G.
[0m[bench_runner.cc:167] Total two-phase committer area 0.00195312G.
[0m[bench_runner.cc:176] add RDMA store size 7.8125G.
[0m[bench_runner.cc:185] [Mem] RDMA heap size 5.10936G.
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[TPCC loader] total 120 warehouses
[tpcc_loader.cc:55] loading warehouses.
[0m[tpcc_loader.cc:122] [TPCC] finished loading warehouse.
[0m[tpcc_loader.cc:123] [TPCC]   * average warehouse record length: 101 bytes.
[0m[tpcc_loader.cc:192] [TPCC] finished loading district.
[0m[tpcc_loader.cc:193] [TPCC]   * average district record length: 103 bytes.
[0m[TPCC] finished loading item
[TPCC]   * average item record length: 84.1739 bytes
[TPCC] finished loading stock
[TPCC]   * average stock record length: 9 bytes
[tpcc_loader.cc:319] [TPCC] finished loading customer.
[0m[tpcc_loader.cc:320] [TPCC]   * average customer record length: 168.245 bytes.
[0m[Runner] local db size: 2888.23 MB
[Runner] DID NOT start server for receiving QP connection requests.
[Runner] Cache size: 0 MB
[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 1440000000huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 1.34375
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[TPCC loader] total 120 warehouses
[tpcc_loader.cc:192] [TPCC] finished loading district.
[0m[tpcc_loader.cc:193] [TPCC]   * average district record length: 103 bytes.
[0m[TPCC] finished loading stock
[TPCC]   * average stock record length: 9 bytes
[bench_runner.cc:269] [Runner] Backup DB[0] for 2 size: 368.379 MB
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[util.cc:161] malloc_huge_pages: size = 1440000000huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 1.34375
[0m[util.cc:161] malloc_huge_pages: size = 314572800huge_page_sz = 2097152flag = 1
[0m[util.cc:178] huge page real size 0.294922
[0m[TPCC loader] total 120 warehouses
[tpcc_loader.cc:192] [TPCC] finished loading district.
[0m[tpcc_loader.cc:193] [TPCC]   * average district record length: 103 bytes.
[0m[TPCC] finished loading stock
[TPCC]   * average stock record length: 9 bytes
[bench_runner.cc:269] [Runner] Backup DB[1] for 3 size: 368.309 MB
[0m[Tpcc] n_ware_per_worker: 3
worker: 0 binding 0
worker: 2 binding 4
worker: 3 binding 6
worker: 1 binding 2
worker: 4 binding 8
worker: 5 binding 10
worker: 6 binding 12
worker: 7 binding 14
worker: 8 binding 16
worker: 9 binding 18
[NOCC] poller running!
[bench_listener2.cc:70] try log results to ./results//noccsundial-tcp_tpcc_4_10_1_100.log
[0m[bench_worker.h:156] Use RPC for logging.
[0mSUNDIAL uses RPC READ.
SUNDIAL uses RPC LOCK.
SUNDIAL uses RPC LOG.
SUNDIAL uses RPC RELEASE.
SUNDIAL uses RPC COMMIT.
SUNDIAL uses RPC RENEW.
[bench_listener2.cc:79] New monitor running!
[0m[bench_listener2.cc:130] All workers has initilized.
[0m[rworker.cc:47] Worker 12 on cpu 15with cor id 0
[0m[bench_listener2.cc:135] Starting Master Listener.
[0m[bench_listener2.cc:234] [LISTENER] receive start RPC.
[0m[rworker.cc:47] Worker 1 on cpu 2with cor id 0
[0m[rworker.cc:47] Worker 7 on cpu 14with cor id 0
[0m[rworker.cc:47] Worker 8 on cpu 16with cor id 0
[0m[rworker.cc:47] Worker 9 on cpu 18with cor id 0
[0m[rworker.cc:47] Worker 3 on cpu 6with cor id 0
[0m[rworker.cc:47] Worker 5 on cpu 10with cor id 0
[0m[rworker.cc:47] Worker 0 on cpu 0with cor id 0
[0m[rworker.cc:47] Worker 6 on cpu 12with cor id 0
[0m[rworker.cc:47] Worker 4 on cpu 8with cor id 0
[0m[rworker.cc:47] Worker 2 on cpu 4with cor id 0
[0mmerge data 1.444000 K from gorgon5
merge data 1.675000 K from gorgon2
merge data 1.617000 K from gorgon4
my throughput 1.471000 K, abort 3018, commit 1471, abort ratio 0.672310
merge data 1.471000 K from gorgon3
[tpcc_worker.h:144] read lat: 9.67394e+06 ;counts 146
[0m[occ_statistics.h:111] lock lat: 943137 ;counts 1674
[0m[occ_statistics.h:114] lock cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:117] validate lat: 0 ;counts 1
[0m[occ_statistics.h:120] validate cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:123] log lat: 1.8123e+06 ;counts 146
[0m[occ_statistics.h:126] log cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:129] twopc lat: 0 ;counts 1
[0m[occ_statistics.h:132] twopc cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:135] commit lat: 1.47912e+06 ;counts 146
[0m[occ_statistics.h:138] commit cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:141] temp lat: 0 ;counts 1
[0m[occ_statistics.h:144] temp cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:147] read_lat lat: 0 ;counts 1
[0m[occ_statistics.h:150] read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:153] renew_lease lat: 266.075 ;counts 146
[0m[occ_statistics.h:156] renew_lease cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:159] release_read lat: 0 ;counts 1
[0m[occ_statistics.h:162] release_read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:165] release_write lat: 39.1883 ;counts 154
[0m[occ_statistics.h:168] release_write cpu cycles: 0 ;counts 1
[0m@1 System throughput 6.207000 K, abort 0.669577
merge data 1.951000 K from gorgon5
merge data 1.963000 K from gorgon2
merge data 1.992000 K from gorgon4
my throughput 1.982000 K, abort 2960, commit 1982, abort ratio 0.598948
merge data 1.982000 K from gorgon3
[tpcc_worker.h:144] read lat: 7.24496e+06 ;counts 200
[0m[occ_statistics.h:111] lock lat: 687079 ;counts 2288
[0m[occ_statistics.h:114] lock cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:117] validate lat: 0 ;counts 1
[0m[occ_statistics.h:120] validate cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:123] log lat: 1.11504e+06 ;counts 200
[0m[occ_statistics.h:126] log cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:129] twopc lat: 0 ;counts 1
[0m[occ_statistics.h:132] twopc cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:135] commit lat: 1.17131e+06 ;counts 200
[0m[occ_statistics.h:138] commit cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:141] temp lat: 0 ;counts 1
[0m[occ_statistics.h:144] temp cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:147] read_lat lat: 0 ;counts 1
[0m[occ_statistics.h:150] read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:153] renew_lease lat: 208.805 ;counts 200
[0m[occ_statistics.h:156] renew_lease cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:159] release_read lat: 0 ;counts 1
[0m[occ_statistics.h:162] release_read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:165] release_write lat: 38.7886 ;counts 246
[0m[occ_statistics.h:168] release_write cpu cycles: 0 ;counts 1
[0m@2 System throughput 7.888000 K, abort 0.587102
merge data 1.951000 K from gorgon5
merge data 2.021000 K from gorgon2
merge data 2.017000 K from gorgon4
my throughput 2.063000 K, abort 3621, commit 2063, abort ratio 0.637051
merge data 2.063000 K from gorgon3
[tpcc_worker.h:144] read lat: 6.4354e+06 ;counts 217
[0m[occ_statistics.h:111] lock lat: 654098 ;counts 2307
[0m[occ_statistics.h:114] lock cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:117] validate lat: 0 ;counts 1
[0m[occ_statistics.h:120] validate cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:123] log lat: 1.23384e+06 ;counts 217
[0m[occ_statistics.h:126] log cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:129] twopc lat: 0 ;counts 1
[0m[occ_statistics.h:132] twopc cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:135] commit lat: 1.21915e+06 ;counts 217
[0m[occ_statistics.h:138] commit cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:141] temp lat: 0 ;counts 1
[0m[occ_statistics.h:144] temp cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:147] read_lat lat: 0 ;counts 1
[0m[occ_statistics.h:150] read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:153] renew_lease lat: 255.323 ;counts 217
[0m[occ_statistics.h:156] renew_lease cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:159] release_read lat: 0 ;counts 1
[0m[occ_statistics.h:162] release_read cpu cycles: 0 ;counts 1
[0m[occ_statistics.h:165] release_write lat: 37.2234 ;counts 94
[0m[occ_statistics.h:168] release_write cpu cycles: 0 ;counts 1
[0m@3 System throughput 8.052000 K, abort 0.632194
[bench_listener2.cc:276] start to exit.
[0mstats for worker 0:
exiting master routine.
exiting master routine.
exiting master routine.
exiting master routine.
exiting master routine.
exiting master routine.
[NOCC] poller exit!
exiting master routine.
exiting master routine.
exiting master routine.
exiting master routine.
exiting master routine.
[bench_listener2.cc:295] Medium latency 4.74013ms, 90th latency 7.39886ms, 99th latency 18.7367ms; average latency: 5.32798ms.
[0mNewOrder executed 564, latency: 5.327796, rw_size -nan, m 4.739981, 90 7.398600, 99 18.736262
succs ratio 0.532136
[tpcc_worker.h:152] worker exit.
[0m[tpcc_worker.h:155] read time: 3.38439ms
[0m[occ_statistics.h:63] read_lat time: 0ms
[0m[occ_statistics.h:64] lock time: 0.331032ms
[0m[occ_statistics.h:65] release_write time: 1.65203e-05ms
[0m[occ_statistics.h:66] release_read time: 0ms
[0m[occ_statistics.h:67] renew_lease time: 0.000105643ms
[0m[occ_statistics.h:68] validate time: 0ms
[0m[occ_statistics.h:69] log time: 0.603018ms
[0m[occ_statistics.h:70] 2pc time: 0ms
[0m[occ_statistics.h:71] commit time: 0.560761ms
[0m[occ_statistics.h:73] 0
[0m[occ_statistics.h:74] 0.331032
[0m[occ_statistics.h:75] 1.65203e-05
[0m[occ_statistics.h:76] 0.000105643
[0m[occ_statistics.h:77] 0.560761
[0m[occ_statistics.h:80] temp time: 0ms
[0m[occ_statistics.h:97] read cpu time: 0ms
[0m[occ_statistics.h:98] lock cpu time: 0ms
[0m[occ_statistics.h:99] release_write cpu time: 0ms
[0m[occ_statistics.h:100] release_read cpu time: 0ms
[0m[occ_statistics.h:101] renew_lease cpu time: 0ms
[0m[occ_statistics.h:102] validate cpu time: 0ms
[0m[occ_statistics.h:103] log cpu time: 0ms
[0m[occ_statistics.h:104] 2pc cpu time: 0ms
[0m[occ_statistics.h:105] commit cpu time: 0ms
[0m[occ_statistics.h:106] temp time: 0ms
[0m[bench_worker.cc:392] 0: 0
[0m[bench_worker.cc:392] 1: 0
[0m[bench_worker.cc:392] 2: 0
[0m[bench_worker.cc:392] 3: 0
[0m[bench_worker.cc:392] 4: 0
[0m[bench_worker.cc:392] 5: 0
[0m[bench_worker.cc:392] 6: 0
[0m[bench_worker.cc:392] 7: 0
[0m[bench_worker.cc:392] 8: 0
[0m[bench_worker.cc:392] 9: 0
[0m[bench_worker.cc:392] 10: 494
[0m[bench_worker.cc:392] 11: 0
[0m[bench_worker.cc:392] 12: 0
[0m[bench_worker.cc:392] 13: 0
[0m[bench_worker.cc:392] 14: 0
[0m[bench_worker.cc:392] 15: 0
[0m[bench_worker.cc:392] 16: 563
[0m[bench_worker.cc:392] 17: 0
[0m[bench_worker.cc:392] 18: 8453
[0m[bench_worker.cc:392] 19: 0
[0m[bench_worker.cc:392] 20: 0
[0m[bench_worker.cc:392] 21: 0
[0m[bench_worker.cc:392] 22: 0
[0m[bench_worker.cc:392] 23: 0
[0m[bench_worker.cc:392] 24: 0
[0m[bench_worker.cc:392] 25: 0
[0m[bench_worker.cc:392] 26: 0
[0m[bench_worker.cc:392] 27: 0
[0m[bench_worker.cc:392] 28: 0
[0m[bench_worker.cc:392] 29: 0
[0m[bench_worker.cc:392] 30: 563
[0m[bench_worker.cc:392] 31: 0
[0m[bench_worker.cc:392] 32: 0
[0m[bench_worker.cc:392] 33: 0
[0m[bench_worker.cc:392] 34: 0
[0m[bench_worker.cc:392] 35: 0
[0m[bench_worker.cc:392] 36: 496
[0m[bench_worker.cc:392] 37: 0
[0m[bench_worker.cc:392] 38: 0
[0m[bench_worker.cc:392] 39: 0
[0m[TPCC]: check consistency.
master routine exit...
[bench_listener2.cc:307] benchmark ends
[0m[bench_runner.cc:313] main runner ends.
[0m